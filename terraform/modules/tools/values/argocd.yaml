server:
  extraArgs:
    - --insecure
  service:
    type: LoadBalancer
    annotations:
      service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
      service.beta.kubernetes.io/aws-load-balancer-cross-zone-load-balancing-enabled: "true"
      service.beta.kubernetes.io/aws-load-balancer-scheme: "internet-facing"
    labels:
      app: argocd
      managedBy: terraform
      service: argocd
      component: server
    loadBalancerSourceRanges:
      - "0.0.0.0/0"

  config:
    rbac:
      defaultPolicy: role:readonly
      policy.default: role:readonly
      policy.csv: |
        p, role:org-admin, applications, *, */*, allow
        p, role:org-admin, clusters, get, *, allow
        p, role:org-admin, projects, get, *, allow

    repositories: |
      - type: git
        url: https://github.com/thejondaw/devops-project.git
        name: infrastructure

controller:
  replicas: 1
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

redis:
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
